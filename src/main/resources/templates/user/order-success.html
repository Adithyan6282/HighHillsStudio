<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Order Success</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>

<!-- HEADER -->
<div th:replace="user/fragments :: mainHeader"></div>

<div class="container text-center mt-5">
    <h2 class="text-success">ðŸŽ‰ Order Placed Successfully!</h2>
    <p class="mt-3">Thank you for shopping with <b>HighHillsStudio</b>.</p>

    <div class="card mt-4 p-4 mx-auto shadow" style="max-width: 600px;">
        <h5>Order Details</h5>
        <hr>

        <p><strong>Order ID:</strong> <span th:text="${order.orderCode}"></span></p>
<!--        <p><strong>Total Amount:</strong> â‚¹<span th:text="${order.totalAmount}"></span></p>-->
        <p><strong>Total Amount:</strong> â‚¹<span th:text="${order.finalAmount}"></span></p>

        <!-- Show Payment ID only for Online -->
        <p th:if="${paymentMethod == 'ONLINE'}">
            <strong>Payment ID:</strong> <span th:text="${paymentId}"></span>
        </p>

        <!-- Payment Method -->
        <p><strong>Payment Method:</strong>
            <span th:if="${paymentMethod == 'COD'}">Cash on Delivery</span>
            <span th:if="${paymentMethod == 'ONLINE'}">Online Payment</span>
            <span th:if="${paymentMethod == 'WALLET'}">Wallet Payment</span>
        </p>

        <!-- Success Messages -->
        <div th:if="${paymentMethod == 'COD'}" class="alert alert-info">
            Your Cash on Delivery order has been placed. Please keep the amount ready when your order arrives.
        </div>

        <div th:if="${paymentMethod == 'ONLINE'}" class="alert alert-success">
            Payment received successfully! Your order is being processed.
        </div>

        <div th:if="${paymentMethod == 'WALLET'}" class="alert alert-warning">
            âœ… Wallet Payment Successful! Amount has been deducted from your wallet.
        </div>

        <p><strong>Status:</strong> <span th:text="${order.status}"></span></p>

        <!-- Shipping Details -->
        <div th:if="${order.shippingAddress != null}">
            <h4>Shipping Details</h4>

            <p><strong>Name:</strong>
                <span th:text="${order.user.fullName != null ? order.user.fullName : 'N/A'}"></span>
            </p>

            <p><strong>Address:</strong>
                <span th:text="${order.shippingAddress.line1 != null ? order.shippingAddress.line1 : ''}"></span>
                <span th:if="${order.shippingAddress.line2 != null}"
                      th:text="', ' + ${order.shippingAddress.line2}"></span>
            </p>

            <p><strong>City:</strong> <span th:text="${order.shippingAddress.city}"></span></p>
            <p><strong>State:</strong> <span th:text="${order.shippingAddress.state}"></span></p>
            <p><strong>Country:</strong> <span th:text="${order.shippingAddress.country}"></span></p>
            <p><strong>Pincode:</strong> <span th:text="${order.shippingAddress.pincode}"></span></p>
            <p><strong>Phone:</strong> <span th:text="${order.shippingAddress.phone}"></span></p>
        </div>

    </div>

    <div class="d-flex gap-2 mt-4">
        <a th:href="@{/user/profile/orders}" class="btn btn-primary">View My Orders</a>
        <a th:href="@{/products}" class="btn btn-outline-secondary">Continue Shopping</a>
    </div>

</div>

<!-- FOOTER -->
<div th:replace="user/fragments :: footer"></div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>




